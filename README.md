**Cервис позволяет каждому пользователю завести учетную запись и в рамках нее вести управление складами и запасами товаров на складах**

**Регистрация**

Пользователь может зарегистрироваться в системе указав организацию, имя, фамилию, email, пароль, номер телефона.

Тип запроса: POST. Адрес: `/register`

Поля:

`email` - Строка длинной от 3 до 30 символов, латинские буквы, цифры и символы '@.'.

`name` - Строка длинной от 3 до 30 символов, латинские буквы и цифры.

`surname` - Строка длинной от 3 до 30 символов, латинские буквы и цифры.

`password` - Строка длинной от 6 до 30 символов, латинские буквы и цифры.

`phone_number` - Имеет формат (+)00000000000

`company_name` - Строка длинной от 3 до 30 символов, латинские буквы и цифры.

Двух человек с одинаковым именем в одной организации быть не может. Один email не может использоваться более чем одним пользователем.
Компания должна существовать.

**Авторизация**

Для работы в системе пользователю необходимо проходить аутентификацию.

Тип запроса: POST. Адрес: `/login`

Поля:

`email` - Строка длинной от 3 до 30 символов, латинские буквы, цифры и символы '@.'.

`password` - Строка длинной от 6 до 30 символов, латинские буквы и цифры.

**Просмотр личной информации**

Пользователь может просмотреть свои данные.

Тип запроса: GET. Адрес: `/profile/info`

**Изменение личной нформации**

Пользователь может просмотреть свои данные.

Тип запроса: POST. Адрес: `/profile/update`

Поля:

`email` - Строка длинной от 3 до 30 символов, латинские буквы, цифры и символы '@.'.

`name` - Строка длинной от 3 до 30 символов, латинские буквы и цифры.

`surname` - Строка длинной от 3 до 30 символов, латинские буквы и цифры.

`password` - Строка длинной от 6 до 30 символов, латинские буквы и цифры.

`phone_number` - Имеет формат (+)00000000000&

`company_name` - Строка длинной от 3 до 30 символов, латинские буквы и цифры.

Двух человек с одинаковым именем в одной организации быть не может. Один email не может использоваться более чем одним пользователем.
Компания должна существовать.


**Выход**

Пользователь может выйти из системы.

Тип запроса: GET. Адрес: `/profile/logout`

**Удаление пользователя**

Пользователь может удалить свою учетную запись и всю связанную с ней информацию.

Тип запроса: GET. Адрес: `/profile/delete`

**Информация о складах**

Пользователь может просмотреть информацию о всех своих складах.

Тип запроса: GET. Адрес: `/profile/warehouses`

**Информация о конкретном складе**

Пользователь может просмотреть информацию о конкретном своем складе, указав его `id`.

Тип запроса: GET. Адрес: `/profile/warehouses/{id}`

**Создание склада**

Пользователь может создать склад.

Тип запроса: POST. Адрес: `/warehouses/create`

Поля:

`address` - Строка длинной от 3 до 30 символов, латинские буквы, цифры и символы ',.'.

`capacity` - Неотрицательное число.

Адрес уникален.

**Изменение информации о складе**

Пользователь может обновить информацию о своем складе, указав его `id`.

Тип запроса: POST. Адрес: `/warehouses/{id}/update`

Поля:

`address` - Строка длинной от 3 до 30 символов, латинские буквы, цифры и символы ',.'.

`capacity` - Неотрицательное число.

Адрес уникален.

**Удаление склада**

Пользователь может удалить свой склад, указав его `id`.

Тип запроса: GET. Адрес: `/profile/warehouses/{id}/delete`

Нельзя удалить склад если по нему есть связанные перемещения.

**Просмотр продуктов на складе**

Пользователь может получить текущее состояние по остаткам на конкретном складе в количестве и общей стоимости всех товаров, указав его `id`.

Тип запроса: GET. Адрес: `/profile/warehouses/{id}/products`

Также пользователь может получить на конкретную дату состояние по остаткам на конкретном складе по количеству и общей стоимости товаров, указав его `id`.

Тип запроса: GET. Адрес: `/profile/warehouses/{id}/products?date={datetime}`

**Просмотр логов по складу**

Пользователь может получить все движения товаров по конкретному складу, указав его `id`.

Тип запроса: GET. Адрес: `/profile/warehouses/{id}/logs`

**Информация о товарах**

Пользователь может просмотреть информацию о своих товарах.

Тип запроса: GET. Адрес: `/profile/products`

**Информация о конкретном товаре**

Пользователь может просмотреть информацию о своем товаре, указав его `id`.

Тип запроса: GET. Адрес: `/profile/products/{id}`

**Создание товара**

Пользователь может создать товар.

Тип запроса: POST. Адрес: `/profile/products/create`

Поля:

`name` - Строка длинной от 3 до 30 символов, латинские буквы, цифры.

`price` - Неотрицательное число.

`size` - Неотрицательное число.

`type_name` - Строка длинной от 3 до 30 символов, латинские буквы, цифры.

**Изменение информации о товаре**

Пользователь может изменить информацию о товаре, указав его `id`.

Тип запроса: POST. Адрес: `/profile/products/{id}/update`

Поля:

`name` - Строка длинной от 3 до 30 символов, латинские буквы, цифры и символы.

`price` - Неотрицательное число.

`size` - Неотрицательное число.

`type_name` - Строка длинной от 3 до 30 символов, латинские буквы, цифры и символы.

Нельзя обновить размер товара если он уже учитывается по складам.

**Удаление товара**

Пользователь может удалить свой товар, указав его `id`.

Тип запроса: GET. Адрес: `/profile/products/{id}/delete`

Нельзя удалить товары которые уже учитываются в перемещениях.

**Просмотр складов, на которых находится товар**

Пользователь может получить текущее состояние остатков по товару по всем складам  в количестве и общей стоимости, указав его `id`.
Тип запроса: GET. Адрес: `/profile/products/{id}/available`

Также пользователь может получить на конкретную дату состояние остатков по товару по всем складам
, указав его `id`.

Тип запроса: GET. Адрес: `/profile/products/{id}/available?date={datetime}`

**Просмотр логов по товару**

Пользователь может получить все движения конкретного товара по складам с учетом сумм и остатков, указав его `id`.

Тип запроса: GET. Адрес: `/profile/products/{id}/logs`

**Перемещение товаров**

Каждый склад может принять партию товаров от отправителя, отгрузить партию получателю или отправить/получить часть товаров с другого склада. В одном перемещении могут участвовать несколько разных товаров. При перемещении учитывается количество каждого товара, направление перемещения(поступление, отгрузка, между складами), дата, получатель или отправитель.  

Тип запроса: GET. Адрес: `/profile/wareohuses/move`

Поля:

`movement_type` - `app`: начислить, `detach`: отгрузить, `move`: переместить.

`products_list` - Список товаров в формате json,

    [{"id":id, "count":count}], где id - идентификатор товара, count - его количество

`warehouses` - Строка в формате json, 
    
    app:
    {"to":id}, где id - иджентификатор склада

    detach:
    {"from":id}, где id - иджентификатор склада
    
    move:
    {"to:id, "from":id}, где id - иджентификатор склада
    
Пользователь может перемещать только свои товары на своих складах. 
